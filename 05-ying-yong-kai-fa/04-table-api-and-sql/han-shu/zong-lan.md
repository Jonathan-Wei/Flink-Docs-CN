# 总览

Flink Table API和SQL使用户能够使用函数进行数据转换。

## 函数功能

有两个维度可以对Flink中的函数进行分类。

第一个维度是system\(或内置\)函数vs .s. catalog函数。系统函数没有名称空间，只能用它们的名称来引用。Catalog函数属于Catalog和数据库，因此它们具有Catalog和数据库名称空间，可以通过完全/部分限定的名称\(Catalog .db\)引用它们。func或db.func\)或只是函数名。

另一个维度是临时函数vs .持久函数。临时函数是不稳定的，并且只在会话的生命周期内有效，它们总是由用户创建的。持久函数存在于会话的生命周期中，它们要么由系统提供，要么保存在目录中。

这两个维度为Flink用户提供了4类函数：

1. 临时系统函数
2. 系统函数
3. 临时Catalog函数
4. Catalog函数

## 引用函数

用户可以通过两种方式在Flink中引用函数-精确或模糊地引用函数。

### 精确函数引用

精确的函数引用使用户能够具体地使用Catalog函数，以及跨Catalog和跨数据库使用Catalog函数，例如，从mytable中选择mycatalog.mydb.myfunc\(x\)，从mytable中选择mydb.myfunc\(x\)。

这只支持从Flink 1.10开始。

### 模糊函数引用

在模糊函数引用中，用户只需在SQL查询中指定函数名称，例如`select myfunc(x) from mytable`。

## 函数解析顺序

解析顺序仅在具有不同类型但名称相同的函数时才重要，例如，当三个函数都名为“ myfunc”但分别具有临时Catalog，Catalog和系统函数时。如果没有函数名冲突，则函数将被解析为唯一一个。

### 精确函数引用

由于系统函数没有名称空间，因此Flink中的精确函数引用必须指向临时Catalog函数或Catalog函数。

解析顺序为：

1. 临时Catalog函数
2. Catalog函数

### 模糊函数引用

解析顺序为：

1. 临时系统函数
2. 系统函数
3. 临时Catalog函数，在会话的当前目录和当前数据库中
4. Catalog函数，在会话的当前目录和当前数据库中

